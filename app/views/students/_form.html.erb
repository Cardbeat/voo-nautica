<%= simple_nested_form_for @student do |f| %>
  <div class="container">
    <h1>Cadastro</h1>

    <h2>Dados pessoais</h2>

    <div class="row">
      <div class="col-md-8">
        <%= f.input :name, label: 'Nome:' %>
      </div>
      <div class="col-md-4">
        <%= f.input :date_birth, start_year: Date.today.year - 90, order: [:day, :month, :year], label: 'Data de nascimento:' %>
      </div>
    </div>
    <%= f.input :email, label: 'Email:'%>
    <div class="row">
      <div class="col-md-4">
        <%= f.input :rg, label: 'RG:' %>
      </div>
      <div class="col-md-4">
        <%= f.input :date_emission, start_year: Date.today.year - 90, order: [:day, :month, :year], label: 'Data de emissão:' %>
      </div>
      <div class="col-md-4">
        <%= f.input :organ_emitter, label: 'Orgão emissor:' %>
      </div>
    </div>
    <div class="row">
      <div class="col-md-6">
        <%= f.input :cpf, label: 'CPF:' %>
      </div>
      <div class="col-md-6">
        <%= f.input :cnh, label: 'CNH:' %>
      </div>
    </div>
    <div class="row">
      <div class="col-md-6">
        <%= f.input :nationality, label: 'Nacionalidade:' %>
      </div>
      <div class="col-md-6">
        <%= f.input :civil_status, label: 'Estado civil:' %>
      </div>
    </div>
    <%= f.input :father_name, label: 'Nome do Pai:'%>
    <%= f.input :mother_name, label: 'Nome da Mãe:'%>
    <div class="row">
      <div class="col-md-6">
        <%= f.input :scholarity, label: 'Escolaridade' %>
      </div>
      <div class="col-md-6">
        <%= f.input :profession, label: 'Profissão:' %>
      </div>
    </div>

    <h2>Endereço</h2>

    <%= f.simple_fields_for :address do |a| %>
      <%= a.input :street, label: 'Rua:' %>
      <div class="row">
        <div class="col-md-4">
          <%= a.input :district, label: 'Bairro:' %>
        </div>
        <div class="col-md-4">
          <%= a.input :city, label: 'Cidade:' %>
        </div>
        <div class="col-md-4">
          <%= a.input :cep, label: 'CEP:' %>
        </div>
      </div>
    <% end %>

    <h2>Telefones</h2>

    <%= f.simple_fields_for :phones do |p| %>
    <div class="row">
      <div class="col-md-5">
        <%= p.input :phone_type, collection: Phone.phone_types.keys, label: 'Contato:'%>
      </div>
      <div class="col-md-5">
        <%= p.input :number, label: 'Número:', placeholder: '(00)0000-0000' %>
      </div>
      <div class="col-md-2">
        <%= p.link_to_remove "x", class: "form-control btn btn-danger" %>
      </div>
    </div>
    <% end %>
    <%= f.link_to_add "Add Telefone", :phones, class: "form-control btn btn-primary" %>

    <h2>Informação complementar</h2>

    <div class="row">
      <div class="col-md-6">
        <%= f.input :vessel, label: 'Possui embarcação?' %>
      </div>
      <div class="col-md-6">
        <%= f.input :vessel_experience, label: 'Possui expêriencia com navegação?'%>
      </div>
    </div>

    <h2>Curso desejado</h2>

    <div class="row">
      <div class="col-md-12">
        <%= f.input :course, collection: Course.course_types.keys, as: :radio_buttons, label: 'Selecione o curso desejado:', label_method: :humanize %>
      </div>
    </div>

    <h2>Datas para aulas praticas</h2>

    <%= f.simple_fields_for :availability do |v| %>
      <div class="row">
        <div class="col-md-6">
          <%= v.input :date1, as: :date, order: [:day, :month, :year], label: '1º:' %>
        </div>
        <div class="col-md-6">
          <%= v.input :date2, as: :date, order: [:day, :month, :year], label: '2º:' %>
        </div>
        <div class="col-md-6">
          <%= v.input :date3, as: :date, order: [:day, :month, :year], label: '3º:' %>
        </div>
        <div class="col-md-6">
          <%= v.input :date4, as: :date,  order: [:day, :month, :year], label: '4º' %>
        </div>
      </div>
    <% end %>

    <div class="row">
      <div class="col-md-6">
        <%= f.input :proof_of_address, as: :file, label: 'Foto do comprovante de residência:' %>
      </div>
      <div class="col-md-6">
        <%= f.input :document_photo, as: :file, label: 'Foto dos documentos:' %>
      </div>
    </div>
    <div class="row">
      <div class="col-md-12">
        <%= f.input :payment_type, collection: Student.payment_types.keys, label: 'Tipo de pagamento:', label_method: :humanize %>
      </div>
    </div>

    <h2>Como conheçeu a Voo Nautica?</h2>

    <%= f.simple_fields_for :referrer do |r| %>
      <%= r.input :referrer_type, collection: Referrer.referrer_types.keys, as: :radio_buttons, label: 'Indicação:', label_method: :humanize %>
    <% end %>

    <%= f.button :submit, 'Finalizar Cadastro' %>
  </div>
<% end %>
